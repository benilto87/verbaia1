<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Editor Criativo</title>
  <!-- âœ… CSS externo organizado -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/estilo1.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/abas.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/chats/chat_romantico.css') }}">
</head>
<body>
 <form action="{{ url_for('logout') }}" method="get" style="position: absolute; top: 10px; right: 10px;">
    <button type="submit" class="botao-sair">Sair ğŸšª</button>
</form>

<div id="busca-local" style="display:none;">
  <input type="text" id="inputBusca" placeholder="Buscar..." oninput="destacarBusca()" style="padding:4px;">
  <button onclick="fecharBusca()">âœ–</button>
</div>

   <h1>ğŸ‘â€ğŸ—¨ VERBA IA</h1>

    <div id="toolbar">
	
<div id="inspiracao-lousa" style="
  display: none;
  position: absolute;
  top: 64px;
  left: 32px;
  z-index: 1000;
  background: #fff;
  padding: 32px 27px;
  border: 2px solid #ccc;
  border-radius: 8px;
  max-width: 350px;
  max-height: 500px;
  box-shadow: 2px 2px 8px rgba(0,0,0,0.1);
  font-style: italic;
  font-size: 0.95rem;
  line-height: 1.5;
">
    <button onclick="fecharInspiracao()" style="
    position: absolute;
    top: 6px;
    right: 8px;
    background: none;
    border: none;
    font-size: 16px;
    color: #888;
    cursor: pointer;
    transition: color 0.2s ease;
  " title="Fechar">âœ–</button>

  <button onclick="minimizarInspiracao()" style="
    position: absolute;
    top: 6px;
    right: 32px;
    background: none;
    border: none;
    font-size: 16px;
    color: #888;
    cursor: pointer;
    transition: color 0.2s ease;
  " title="Minimizar">â–</button>
  
  <strong>ğŸ‘â€ğŸ—¨ Olhar da FlÃ¡via:</strong>
  
  <div id="inspiracao-texto" style="
    margin-top: 6px;
    max-height: 500px;
    overflow-y: auto;
    padding-right: 3px;
"></div>
</div>
	
<!-- BotÃµes principais -->
<div id="botoesFixosEsquerda">
  <button class="toolbar-button botao-fixo-tarefa" onclick="loadText()" title="Carregar Texto">ğŸ“‚</button>
  <button id="saveButton" class="toolbar-button botao-fixo-tarefa" onclick="saveText()" title="Salvar Texto">ğŸ’¾</button>
  <button class="toolbar-button botao-fixo-tarefa" onclick="saveAsFile()" title="Salvar como Arquivo">ğŸ“¤</button>
  <button class="toolbar-button botao-fixo-tarefa" onclick="document.getElementById('fileInput').click()" title="Abrir Arquivo">ğŸ“¥</button>
  <input type="file" id="fileInput" accept=".txt" onchange="loadFromFile(event)" style="display: none;">
  <button class="toolbar-button botao-fixo-tarefa" onclick="undo()" title="Desfazer">â†º</button>
  <button class="toolbar-button botao-fixo-tarefa" onclick="redo()" title="Refazer">â†»</button>
  <button class="toolbar-button botao-fixo-tarefa" onclick="abrirBusca()" title="Busca interna">ğŸ”</button>
  <button class="toolbar-button botao-fixo-tarefa" onclick="cleanSymbols()" title="Limpar SÃ­mbolos">ğŸ§¹</button>
</div>


<button class="toolbar-button botao-fixo-tarefa botao-turquesa" onclick="corrigirTexto()" title="Corrigir Texto">âœ…</button>
<button class="toolbar-button botao-modificavel botao-turquesa" onclick="aplicarNegrito()" title="Negrito (Ctrl+B)">ğ—¡</button>
<button class="toolbar-button botao-modificavel botao-turquesa" onclick="aplicarItalico()" title="ItÃ¡lico (Ctrl+I)">ğ‘°</button>
<button class="toolbar-button botao-modificavel botao-turquesa" onclick="alinharEsquerda()" title="Alinhar Ã  Esquerda">â‡¤</button>
<button class="toolbar-button botao-modificavel botao-turquesa" onclick="centralizarTexto()" title="Centralizar">â‡”</button>
<button class="toolbar-button botao-modificavel botao-turquesa" onclick="alinharDireita()" title="Alinhar Ã  Direita">â‡¥</button> 
<button class="toolbar-button botao-modificavel botao-turquesa" onclick="justificarTexto()" title="Justificar">â˜°</button>
<button class="toolbar-button botao-modificavel botao-turquesa" onclick="alternarCaixa()" title="Alternar MaiÃºsculas/MinÃºsculas"><span style="text-transform: none;">aA</span></button>
<button onclick="aumentarFonte()" class="toolbar-button botao-modificavel botao-turquesa">A+</button>
<button onclick="diminuirFonte()" class="toolbar-button botao-modificavel botao-turquesa">A-</button>
<button id="copyButton" class="toolbar-button botao-fixo-tarefa" onclick="copyText()" title="Copiar Texto">ğŸ“‹</button> 

<!-- BotÃµes de numeraÃ§Ã£o e marcas -->
<button class="toolbar-button botao-fixo-tarefa" onclick="numberSentences()" title="Numerar Frases">#</button>
<button class="toolbar-button botao-modificavel" onclick="numberSentencesBy2()" title="Numerar por blocos de 2 frases">#2</button>
<button class="toolbar-button botao-modificavel" onclick="numberSentencesBy3()" title="Numerar por blocos de 3 frases">#3</button>
<button class="toolbar-button botao-fixo-tarefa" onclick="removeNumbering()" title="Remover NumeraÃ§Ã£o">âŒ«#</button>
<button class="toolbar-button botao-modificavel" onclick="removerFormatacaoSelecao()" title="Remover Estilo da SeleÃ§Ã£o">ğŸ§½</button>

<!-- BotÃµes de anÃ¡lise -->
<button class="toolbar-button botao-fixo-tarefa botao-marcas" onclick="executarSimbolProcess()" title="AnÃ¡lise de Fluidez">ğŸŒ¾</button>
<button class="toolbar-button botao-fixo-tarefa botao-marcas" onclick="analisarDicasIA()" title="AnÃ¡lise de Fluidez">ğŸ‚</button>
<button class="toolbar-button botao-fixo-tarefa botao-marcas" onclick="analyzeFluidezIA()" title="AnÃ¡lise de Fluidez">ğŸš¨</button>
<button class="toolbar-button botao-modificavel botao-marcas" onclick="executarMarcadorDeCenas()" title="Marcar Cenas Principais">ğŸ¬</button>
<button class="toolbar-button botao-fixo-tarefa botao-turquesa" onclick="abrirPlacaTemperatura(this, corrigirTexto2, 0.99)" title="Analisar com IA">ğŸŒ“Â®</button>
	

<!-- BotÃµes da FlÃ¡via -->
<button class="toolbar-button botao-fixo-tarefa botao-dourado" onclick="analyzeWithAI()" title="Analisar com IA">ğŸ’Â®</button>	
<button class="toolbar-button botao-fixo-tarefa botao-dourado" onclick="inspirarComFlavia()" title="InspiraÃ§Ã£o da FlÃ¡via">ğŸ‘â€ğŸ—¨</button>		
<button class="toolbar-button botao-modificavel botao-dourado" onclick="inspirarComFlavia2()" title="ReflexÃ£o da FlÃ¡via">ğŸ’¡</button>
<button class="toolbar-button botao-modificavel botao-dourado" onclick="inspirarComFlavia3()" title="Leitora Virtual">ğŸ‘¸</button>
<button class="toolbar-button botao-fixo-tarefa botao-especial" onclick="abrirPlacaTemperatura(this,'enviarRascunho')" title="Gerar rascunho">ğŸ“œ...</button>

<!-- Pedido IA -->
<button id="botao-pedido" class="toolbar-button botao-fixo-tarefa botao-especial" onclick="gerarTarefa()" title="Shift+Enter">ğŸ“˜ pedido 3.5</button>

<!-- Alternador de modelo -->
<button id="botao-toggle-modelo" class="botao-modificavel" title="Trocar entre GPT-3.5 e GPT-4.0" style="background: none; border: none; font-size: 1.2em; cursor: pointer;">ğŸ”º</button>

<!-- BotÃµes de modo -->
<div id="modo-chat-selector">
  <button class="botao-modificavel" onclick="trocarModoChat('romantico')" style="background: none; border: none; font-size: 1.2em; cursor: pointer;">ğŸ’–</button>
  <button class="botao-modificavel" onclick="trocarModoChat('edtorial')" style="background: none; border: none; font-size: 1.2em; cursor: pointer;">ğŸ“˜</button>
  <button id="botao-modo-geral" onclick="trocarModo()" style="background: none; border: none; font-size: 1.0em; cursor: pointer;">Modo Tarefa ğŸ“Œ</button>
  </div>	
  <!-- BotÃ£o LiterÃ¡rio -->
<div id="placaTemperatura" style="display:none; position:fixed; z-index:9999; min-width:280px; background:#fff; border:1px solid #e6d3a3; padding:14px 16px; border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,.12);">
  <div style="display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:8px;">
    <strong style="font-size:0.95rem;">Temperatura literÃ¡ria</strong>
    <button type="button" onclick="fecharPlacaTemperatura()" style="border:none;background:transparent;font-size:1rem;cursor:pointer;">âœ–</button>
  </div>

  <div style="display:flex; align-items:center; gap:10px; margin:8px 0;">
    <label for="placaTempSlider" style="font-size:0.9rem; white-space:nowrap;">Escolha</label>
    <input id="placaTempSlider" type="range" min="0.0" max="1.3" step="0.01" value="0.99" oninput="placaAtualizarTemp(this.value)" style="width:220px;">
    <span id="placaTempLabel" style="font-family:monospace;">0.99</span>
  </div>

  <div style="display:flex; justify-content:space-between; font-size:0.75rem; color:#777; margin-top:-4px; margin-bottom:8px;">
    <span>min 0.00</span><span>â€¢ 0.99</span><span>max 1.30</span>
  </div>

  <div style="display:flex; gap:10px; justify-content:flex-end;">
    <button type="button" onclick="fecharPlacaTemperatura()" class="toolbar-button" style="background:#ddd;border-color:#bbb;color:#222;">Cancelar</button>
    <button type="button" onclick="confirmarTemperatura()" class="toolbar-button" style="background:#c88c2b;border-color:#c7a94e;">Confirmar</button>
  </div>
</div>
		
			</div>

<div class="editor-container">
  <div id="editor" contenteditable="true" placeholder="Comece a digitar aqui...">
    O sol se pÃ´s. Ele ficou na janela. Pensou na vida que passara. A cidade ficava longe. As luzes acendiam devagar. Uma estrela apareceu. Ele suspirou. Sentia uma tristeza sem nome. NÃ£o sabia o que fazer. Queria ir embora...
  </div>
  <div class="resize-handle"></div>
</div>

<!-- âœ… ESTE Ã‰ O ÃšNICO ABAS-CONTAINER PERMITIDO -->
<div id="abas-container" style="display: flex; gap: 4px; margin-top: 10px;">
  <!-- BotÃµes de abas e â€œ+â€ serÃ£o inseridos via JavaScript -->
</div>

<div id="loading-simbol" style="display: none; margin-top: 10px;">â³ Analisando com alma viva...âœ</div>
<div id="simbol-feedback" style="color: #c44; font-style: italic; margin-top: 5px;"></div>	
	
<!-- ğŸ’¬ PAINEL LATERAL DE FLÃVIA -->
<div id="chat-panel">
  <div class="chat-header">
    <div class="chat-profile">
      <img src="{{ url_for('static', filename='img/flavia.jpg') }}" alt="FlÃ¡via" />
      <span>FlÃ¡via ğŸ’¬</span>
    </div>
    <button id="chat-minimize" onclick="toggleChatMinimize()">ğŸ—•</button>
  </div>

  <div id="chat-log"></div>

  <div id="chat-input-area">
    <textarea id="chat-input" placeholder="Escreva para FlÃ¡via..." rows="2"></textarea>
    <button class="send-button" onclick="enviarMensagemFlavia()">>></button>
</div>

<script src="{{ url_for('static', filename='js/funcoes_ordinarias.js') }}"></script>
<script src="{{ url_for('static', filename='js/chats/chat_romantico.js') }}"></script>
<script src="{{ url_for('static', filename='js/funcoes_ia.js') }}"></script>

</body>
</html>
